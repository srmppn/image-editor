(this["webpackJsonpumbrella-editor"]=this["webpackJsonpumbrella-editor"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},25:function(e,t){},26:function(e,t){},27:function(e,t){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(6),i=n.n(r),l=(n(16),n(4)),o=n.n(l),u=n(5),d=n(7),h=n(8),g=n(10),m=n(9),b=(n.p,n(18),n(19),n(2)),j=function(e){Object(g.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).componentDidMount=function(){var t=new b.fabric.Canvas("canvas",{width:"600",height:"600",backgroundColor:"lightgray"});t.on("selection:created",(function(t){var n=t.selected[0].filters;"undefined"!==typeof n[0]&&e.setState({hueSet:n[0].isSet,hueValue:n[0].rotation}),"undefined"!==typeof n[1]&&e.setState({rgbSet:n[1].isSet,r:n[1].gamma[0],g:n[1].gamma[1],b:n[1].gamma[2]}),e.setState({hasSelect:!0})})),t.on("selection:cleared",(function(t){e.setState({hasSelect:!1})})),t.renderAll(),e.setState({canvas:t}),window.onkeydown=e.onKeyDownHandler},e.onKeyDownHandler=function(t){switch(t.keyCode){case 8:var n=e.state.canvas.getActiveObject();e.state.canvas.remove(n)}t.preventDefault()},e.onClickAddImage=function(t){var n=new FileReader,a=t.target.files[0];n.readAsDataURL(a),n.onloadend=function(){b.fabric.Image.fromURL(n.result,(function(t){e.state.canvas.add(t),e.state.canvas.requestRenderAll()}))}},e.onChangeApplyFilter=function(t){var n=e.state.canvas.getActiveObject();if(n){switch(t){case"hue":n.filters[0]=e.state.hueSet&&new b.fabric.Image.filters.HueRotation({rotation:e.state.hueValue,isSet:!0});break;case"rgb":var a=e.state,c=a.r,s=a.g,r=a.b;n.filters[1]=e.state.rgbSet&&new b.fabric.Image.filters.Gamma({gamma:[c,s,r],isSet:!0})}n.applyFilters(),e.state.canvas.requestRenderAll()}},e.onChangeHandlerCheckBox=function(){var t=Object(d.a)(o.a.mark((function t(n,a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState(Object(u.a)({},n.target.name,n.target.checked));case 2:e.onChangeApplyFilter(a);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onChangeHandlerRange=function(t,n){e.setState(Object(u.a)({},t.target.name,t.target.value)),e.onChangeApplyFilter(n)},e.render=function(){var t=e.state,n=t.hueSet,c=t.hueValue,s=t.rgbSet,r=t.r,i=t.g,l=t.b;return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("canvas",{className:"image-editor",id:"canvas"}),Object(a.jsxs)("div",{className:"editor",children:[Object(a.jsx)("input",{className:"outline-primary",type:"file",accept:"image/*",onChange:e.onClickAddImage}),e.state.hasSelect?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"hue-editor",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"mr-2",children:"\u0e1b\u0e23\u0e31\u0e1a\u0e04\u0e48\u0e32 hue :"}),Object(a.jsx)("input",{name:"hueSet",type:"checkbox",checked:n,onChange:function(t){return e.onChangeHandlerCheckBox(t,"hue")}})]}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("span",{className:"mr-2",children:"\u0e23\u0e30\u0e14\u0e31\u0e1a :"}),Object(a.jsx)("input",{name:"hueValue",style:{width:"80%"},value:c,type:"range",min:"-2",max:"2",step:"0.002",onChange:function(t){return e.onChangeHandlerRange(t,"hue")}})]})]}),Object(a.jsxs)("div",{className:"hue-editor",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"mr-2",children:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e04\u0e48\u0e32 gamma :"}),Object(a.jsx)("input",{name:"rgbSet",type:"checkbox",checked:s,onChange:function(t){return e.onChangeHandlerCheckBox(t,"rgb")}})]}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("span",{className:"mr-2",children:"R :"}),Object(a.jsx)("input",{name:"r",style:{width:"80%"},value:r,type:"range",min:"0.2",max:"2.2",step:"0.003921",onChange:function(t){return e.onChangeHandlerRange(t,"rgb")}})]}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("span",{className:"mr-2",children:"G :"}),Object(a.jsx)("input",{name:"g",style:{width:"80%"},value:i,type:"range",min:"0.2",max:"2.2",step:"0.003921",onChange:function(t){return e.onChangeHandlerRange(t,"rgb")}})]}),Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)("span",{className:"mr-2",children:"B :"}),Object(a.jsx)("input",{name:"b",style:{width:"80%"},value:l,type:"range",min:"0.2",max:"2.2",step:"0.003921",onChange:function(t){return e.onChangeHandlerRange(t,"rgb")}})]})]})]}):Object(a.jsx)("div",{className:"p-3",children:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e20\u0e32\u0e1e\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e1b\u0e23\u0e31\u0e1a\u0e41\u0e15\u0e48\u0e07\u0e2a\u0e35\u0e20\u0e32\u0e1e"})]})]})},e.state={canvas:null,hueSet:!1,hueValue:0,rgbSet:!1,r:0,g:0,b:0,hasSelect:!1},e}return n}(s.a.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};n(28);i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(j,{})}),document.getElementById("root")),f()}},[[29,1,2]]]);
//# sourceMappingURL=main.ae02bb50.chunk.js.map